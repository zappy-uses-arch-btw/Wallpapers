;  ╔══════════════════════════════════════════════════════════════════╗
;  ║                        POLYBAR Config                            ║
;  ╚══════════════════════════════════════════════════════════════════╝

include-file = ~/.config/polybar/colors.ini

; ─────────────────────────────────────────────────────────────────────
; Bar Configuration
; ─────────────────────────────────────────────────────────────────────

[bar/main]
width = 50%
height = 30
offset-x = 25%
offset-y = 8
radius = 10
fixed-center = true

background = ${colors.background}
foreground = ${colors.foreground}

; Border
border-size = 2
border-color = ${colors.accent}

padding-left = 1
padding-right = 1
module-margin = 0

font-0 = JetBrainsMono Nerd Font:size=10;3
font-1 = JetBrainsMono Nerd Font:size=12;3

modules-left = bl bspwm br
modules-center =
modules-right = bl2 date sep pulseaudio sep network br2

override-redirect = false
wm-restack = bspwm
cursor-click = pointer

; ─────────────────────────────────────────────────────────────────────
; Separators and Brackets
; ─────────────────────────────────────────────────────────────────────

[module/bl]
type = custom/text
format = "["
format-foreground = ${colors.accent}

[module/br]
type = custom/text
format = "] "
format-foreground = ${colors.accent}

[module/bl2]
type = custom/text
format = "["
format-foreground = ${colors.accent}

[module/br2]
type = custom/text
format = "] "
format-foreground = ${colors.accent}

[module/sep]
type = custom/text
format = "|"
format-foreground = ${colors.dim}
format-padding = 1

; ─────────────────────────────────────────────────────────────────────
; Workspaces
; ─────────────────────────────────────────────────────────────────────

[module/bspwm]
type = internal/bspwm

label-focused = %name%
label-focused-background = ${colors.accent}
label-focused-foreground = ${colors.background}
label-focused-padding = 1

label-occupied = %name%
label-occupied-foreground = ${colors.foreground}
label-occupied-padding = 1

label-empty = %name%
label-empty-foreground = ${colors.dim}
label-empty-padding = 1

label-urgent = %name%
label-urgent-background = ${colors.urgent}
label-urgent-foreground = ${colors.background}
label-urgent-padding = 1

; ─────────────────────────────────────────────────────────────────────
; Time
; ─────────────────────────────────────────────────────────────────────

[module/date]
type = internal/date
interval = 1
date = %H:%M
date-alt = %a %d %b

format-prefix = " "
format-prefix-foreground = ${colors.accent}
label = %date%

; ─────────────────────────────────────────────────────────────────────
; Volume
; ─────────────────────────────────────────────────────────────────────

[module/pulseaudio]
type = internal/pulseaudio

format-volume = <ramp-volume> <label-volume>
label-volume = %percentage%%

format-muted = <label-muted>
label-muted = MUT
label-muted-foreground = ${colors.dim}

ramp-volume-0 = VOL
ramp-volume-1 = VOL
ramp-volume-2 = VOL
ramp-volume-foreground = ${colors.accent}

click-right = pavucontrol

; ─────────────────────────────────────────────────────────────────────
; Network (Universal Script)
; ─────────────────────────────────────────────────────────────────────

[module/network]
type = custom/script
exec = ~/.config/polybar/network.sh
interval = 3
format = <label>
label = %output%
click-left = nm-connection-editor

; ─────────────────────────────────────────────────────────────────────
; Settings
; ─────────────────────────────────────────────────────────────────────

[settings]
screenchange-reload = true
pseudo-transparency = true

[module/bluetooth]
type = custom/script
exec = ~/.config/rofi/scripts/bluetooth.sh --status
interval = 2
click-left = ~/.config/rofi/scripts/bluetooth.sh
click-right = blueman-manager
format-prefix = " "
format-prefix-foreground = ${colors.accent}

